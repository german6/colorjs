/* 
 * colorjs - A simple JavaScript library to manage colors 
 * Copyright(c) Germ√°n Franco 2016 (License: LGPL-3.0) 
 * 18-07-2016 - Version: 0.1 
 */ 
var colorjs=function(a){function b(a,b,c){void 0===c?(this.red=255,this.green=255,this.blue=255):(this.red=a,this.green=b,this.blue=c)}function c(a,b,c){void 0===c?(this.hue=0,this.sat=0,this.val=1):(this.hue=a,this.sat=b,this.val=c)}function d(a){void 0!==a?"number"==typeof a?this.hex=16777215&a:this.hex=e(a):this.hex=16777215}function e(a){if("#"===a[0]&&(a=a.substring(1,a.length)),3===a.length)a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2];else{if(a.length<6)return 0;if(a.length>6)return 16777215}return parseInt(a,16)}function f(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function g(a,b){var c=document.createElement("a");c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(b)),c.setAttribute("download",a),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}function h(a,b){return b=b||a.toHEX().toString(),i("   ",a.red,!0)+i("    ",a.green,!0)+i("    ",a.blue,!0)+" "+b}function i(a,b,c){return"undefined"==typeof b?a:b.length===a.length?b:c?(a+b).slice(-a.length):(b+a).substring(0,a.length)}var j={};return b.prototype.fix=function(){this.red<0||isNaN(this.red)?this.red=0:this.red=255&this.red,this.green<0||isNaN(this.green)?this.green=0:this.green=255&this.green,this.blue<0||isNaN(this.blue)?this.blue=0:this.blue=255&this.blue},b.prototype.toHSV=function(){var a,b=this.red/255,d=this.green/255,e=this.blue/255,f=Math.max(b,d,e),g=f-Math.min(b,d,e);return g>0?(f===b?(a=(d-e)/g%6,0>a&&(a=6+a)):a=f===d?(e-b)/g+2:(b-d)/g+4,new c(60*a,g/f,f)):new c(360,0,f)},b.prototype.toHEX=function(){return new d(this.red<<16|this.green<<8|this.blue)},b.prototype.invert=function(){return this.red=255-this.red,this.green=255-this.green,this.blue=255-this.blue,this},b.prototype.toWebSafe=function(){var a=function(a,b){var c=a%b;return c>=b/2&&(c-=b),a-c};return this.red=a(this.red,51),this.green=a(this.green,51),this.blue=a(this.blue,51),this},b.prototype.set=function(a,b,c){return this.red=a,this.green=b,this.blue=c,this},b.prototype.clone=function(){return new b(this.red,this.green,this.blue)},b.prototype.toRGB=function(){return this.clone()},b.prototype.toString=function(){return"rgb("+this.red+","+this.green+","+this.blue+")"},b.prototype.toArray=function(){return[this.red,this.green,this.blue]},b.random=function(){return new b(f(0,255),f(0,255),f(0,255))},c.prototype.fix=function(){return this.hue<0||isNaN(this.hue)?this.hue=0:this.hue>360&&(this.hue=360),this.sat<0||isNaN(this.sat)?this.sat=0:this.sat>1&&(this.sat=1),this.val<0||isNaN(this.val)?this.val=0:this.val>1&&(this.val=1),this},c.prototype.toRGB=function(){var a,c,d,e=this.val*this.sat,f=e*(1-Math.abs(this.hue/60%2-1)),g=this.val-e;return this.hue<60?(a=e,c=f,d=0):this.hue<120?(a=f,c=e,d=0):this.hue<180?(a=0,c=e,d=f):this.hue<240?(a=0,c=f,d=e):this.hue<300?(a=f,c=0,d=e):(a=e,c=0,d=f),a=Math.round(255*(a+g)),c=Math.round(255*(c+g)),d=Math.round(255*(d+g)),new b(a,c,d)},c.prototype.toHEX=function(){var a,b,c,e=this.val*this.sat,f=e*(1-Math.abs(this.hue/60%2-1)),g=this.val-e;return this.hue<60?(a=e,b=f,c=0):this.hue<120?(a=f,b=e,c=0):this.hue<180?(a=0,b=e,c=f):this.hue<240?(a=0,b=f,c=e):this.hue<300?(a=f,b=0,c=e):(a=e,b=0,c=f),a=Math.round(255*(a+g)),b=Math.round(255*(b+g)),c=Math.round(255*(c+g)),new d(a<<16|b<<8|c)},c.prototype.set=function(a,b,c){return this.hue=a,this.sat=b,this.val=c,this},c.prototype.clone=function(){return new c(this.hue,this.sat,this.val)},c.prototype.toHSV=function(){return this.clone()},c.prototype.toHSL=function(){var a,b=(2-this.sat)*this.val;return a=b>=1&&2!==b?2-b:b>0?b:1,[this.hue,this.sat*this.val/a,b/2]},c.prototype.toArray=function(){return[this.hue,this.sat,this.val]},c.random=function(){return new c(f(0,360),f(0,100)/100,f(0,100)/100)},d.prototype.set=function(a){return this.hex=e(a),this},d.prototype.clone=function(){return new d(this.hex)},d.prototype.getValue=function(){return i("000000",this.hex.toString(16),!0)},d.prototype.toRGB=function(){return new b(this.hex>>16&255,this.hex>>8&255,255&this.hex)},d.prototype.toHSV=function(){var a,b=(this.hex>>16&255)/255,d=(this.hex>>8&255)/255,e=(255&this.hex)/255,f=Math.max(b,d,e),g=f-Math.min(b,d,e);return g>0?(f===b?(a=(d-e)/g%6,0>a&&(a=6+a)):a=f===d?(e-b)/g+2:(b-d)/g+4,new c(60*a,g/f,f)):new c(360,0,f)},d.prototype.toHEX=function(){return this.clone()},d.random=function(){return new d(f(0,16777215))},d.prototype.toString=function(){return"#"+this.getValue()},a.RGB=b,a.HEX=d,a.HSV=c,j.parseGPL=function(a,c,d){var e="GIMP Palette\n";e+="Name: "+c+"\n",e+="Columns: 8\n",void 0!==d&&(e+="#"+d+"\n"),e+="\n";for(var f=0;f<a.length;f++)a[f]instanceof b||(a[f]=a[f].toRGB()),a[f].fix(),e+=h(a[f])+"\n";return e},j.saveToGPL=function(a,b,c){try{var d=j.parseGPL(a,b,c)}catch(e){throw e}b=b.split(" ").join("_");try{g(b+".gpl",d)}catch(e){throw 0}if(a.length>256)throw 1},j}(window);
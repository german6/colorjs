var colorjs=function(t){function e(t,e,i){void 0===i||void 0===e||void 0===t?(this.red=255,this.green=255,this.blue=255):(this.red=t,this.green=e,this.blue=i)}function i(t,e,i){void 0===i||void 0===e||void 0===t?(this.hue=0,this.sat=0,this.val=1):(this.hue=t,this.sat=e,this.val=i)}function h(t){void 0!==t?this.hex=t.toUpperCase():this.hex="FFFFFF"}function s(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function n(t,e){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function r(t,e){return e=e||t.toHEX().toString(),o("   ",t.red,!0)+o("    ",t.green,!0)+o("    ",t.blue,!0)+" "+e}function o(t,e,i){return"undefined"==typeof e?t:i?(t+e).slice(-t.length):(e+t).substring(0,t.length)}var u={};return e.prototype.fix=function(){this.red<0||isNaN(this.red)?this.red=0:this.red>255&&(this.red=255),this.green<0||isNaN(this.green)?this.green=0:this.green>255&&(this.green=255),this.blue<0||isNaN(this.blue)?this.blue=0:this.blue>255&&(this.blue=255)},e.prototype.toHSV=function(){var t,e=this.red/255,h=this.green/255,s=this.blue/255,n=Math.max(e,h,s),r=n-Math.min(e,h,s);return r>0?(n===e?(t=(h-s)/r%6,0>t&&(t=6+t)):t=n===h?(s-e)/r+2:(e-h)/r+4,new i(60*t,r/n,n)):new i(360,0,n)},e.prototype.toHEX=function(){var t=this.red.toString(16);1===t.length&&(t="0"+t);var e=this.green.toString(16);1===e.length&&(e="0"+e);var i=this.blue.toString(16);return 1===i.length&&(i="0"+i),new h(t+e+i)},e.prototype.invert=function(){this.red=255-this.red,this.green=255-this.green,this.blue=255-this.blue},e.prototype.toWebSafe=function(){var t=function(t,e){var i=t%e;return i>=e/2&&(i-=e),t-i};this.red=t(this.red,51),this.green=t(this.green,51),this.blue=t(this.blue,51)},e.prototype.set=function(t,e,i){this.red=t,this.green=e,this.blue=i},e.prototype.copy=function(t){this.red=t.red,this.green=t.green,this.blue=t.blue},e.prototype.toString=function(){return"rgb("+this.red+","+this.green+","+this.blue+")"},e.prototype.toArray=function(){return[this.red,this.green,this.blue]},e.prototype.random=function(){this.red=s(0,255),this.green=s(0,255),this.blue=s(0,255)},i.prototype.fix=function(){this.hue<0||isNaN(this.hue)?this.hue=0:this.hue>360&&(this.hue=360),this.sat<0||isNaN(this.sat)?this.sat=0:this.sat>1&&(this.sat=1),this.val<0||isNaN(this.val)?this.val=0:this.val>1&&(this.val=1)},i.prototype.toRGB=function(){var t,i,h,s=this.val*this.sat,n=s*(1-Math.abs(this.hue/60%2-1)),r=this.val-s;return this.hue<60?(t=s,i=n,h=0):this.hue<120?(t=n,i=s,h=0):this.hue<180?(t=0,i=s,h=n):this.hue<240?(t=0,i=n,h=s):this.hue<300?(t=n,i=0,h=s):(t=s,i=0,h=n),t=Math.round(255*(t+r)),i=Math.round(255*(i+r)),h=Math.round(255*(h+r)),new e(t,i,h)},i.prototype.set=function(t,e,i){this.hue=t,this.sat=e,this.val=i},i.prototype.toHSL=function(){var t,e=(2-this.sat)*this.val;return t=e>=1&&2!==e?2-e:e>0?e:1,[this.hue,this.sat*this.val/t,e/2]},i.prototype.toArray=function(){return[this.hue,this.sat,this.val]},h.prototype.fix=function(){"#"===this.hex[0]&&(this.hex=this.hex.substring(1,this.hex.length)),3===this.hex.length?this.hex=this.hex[0]+this.hex[0]+this.hex[1]+this.hex[1]+this.hex[2]+this.hex[2]:this.hex.length<6?this.hex="000000":this.hex.length>6&&(this.hex=this.hex.substr(0,6));var t=this.toRGB();t.fix(),this.set(t.toHEX())},h.prototype.set=function(t){this.hex=t.hex},h.prototype.toRGB=function(){return new e(parseInt("0x"+this.hex.substring(0,2),16),parseInt("0x"+this.hex.substring(2,4),16),parseInt("0x"+this.hex.substring(4,6),16))},h.prototype.random=function(){this.hex=s(0,16777215).toString(16),this.hex=o("000000",this.hex,!0)},h.prototype.toString=function(){return"#"+this.hex},t.RGB=e,t.HEX=h,t.HSV=i,u.parseGPL=function(t,i,h){var s="GIMP Palette\n";s+="Name: "+i+"\n",s+="Columns: 8\n",void 0!==h&&(s+="#"+h+"\n"),s+="\n";for(var n=0;n<t.length;n++)t[n]instanceof e||(t[n]=t[n].toRGB()),t[n].fix(),s+=r(t[n])+"\n";return s},u.saveToGPL=function(t,e,i){try{var h=u.parseGPL(t,e,i)}catch(s){throw s}e=e.split(" ").join("_");try{n(e+".gpl",h)}catch(s){throw 0}if(t.length>256)throw 1},u.savePalette=function(t,e,i){u.saveToGPL(t,e,i)},u}(window);